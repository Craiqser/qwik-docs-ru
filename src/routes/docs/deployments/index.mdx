---
title: Развёртывание | Руководства
contributors:
  - adamdbradley
  - samijaber
  - reemardelarosa
  - mhevery
---

# Развёртывание

Когда придёт время развернуть ваше приложение, Qwik предлагает готовые к использованию средства интеграции, которые делают этот процесс очень простым!

```shell
npm run qwik add
```

## Адаптеры и промежуточное ПО

Промежуточное ПО Qwik City - это код, который соединяет серверный фреймворк рендеринга (такой как Cloudflare, Netlify, Vercel, Express и т.д.) с мета-фреймворком Qwik City.

## Сборка для производственной среды

Когда в проект добавляется новая интеграция, в файл `package.json` добавляется скрипт `build.server`. Этот скрипт используется для сборки проекта для производственной среды.

Единственное, что вам нужно сделать, это запустить следующую команду:

```shell
npm run build
```

> Под капотом выполнятся скрипты `build`, `build.server` и `build.client`.

## Дополнительно

Утилита `requestHandler()` - это то, что использует каждый из вышеперечисленных промежуточных модулей для преобразования своих запросов/ответов в формат Qwik City. Функция может быть использована для предоставления промежуточного ПО под конкретный серверный фреймворк.

Если вам не хватает определённого промежуточного ПО, и вы хотели бы его добавить сами, посмотрите, как утилита `requestHandler()` используется для обработки запросов для каждого из приведенных выше примеров. А ещё лучше - внесите свой вклад, мы будем рады! [PR приветствуются](https://github.com/BuilderIO/qwik/tree/main/packages/qwik-city/middleware)!

## Добавить новое развёртывание

Спасибо за интерес к добавлению интеграции развёртывания в Qwik! Мы будем рады помочь вам начать работу. Пока мы не зашли слишком далеко, если уже существует развёртывание того, что вы ищете, мы будем [рады, если вы внесёте в него свой вклад](https://github.com/BuilderIO/qwik/tree/main/packages/qwik-city/adapters). Если развёртывание ещё не доступно, давайте добавим его!

Для начала, вероятно, лучше всего скопировать существующие адаптеры и промежуточное ПО и изменить их в соответствии с вашими потребностями. Развёртывание состоит из нескольких различных частей:

### Добавление адаптера

Адаптер - это термин, используемый для обобщения конфигурации Vite, необходимой для специальной конфигурации сборки. Каждый сервер, будь то облачный сервис или пользовательский сервер, имеет свою уникальную конфигурацию сборки для конкретного вывода, который использует сервер. Например, [Cloudflare](./cloudflare-pages/index.mdx), [Netlify](./netlify-edge/index.mdx) и [Node.js Server](./node/index.mdx) имеют свои собственные конфигурации сборки.

Адаптер на самом деле является конфигурацией Vite, которая расширяет базовую конфигурацию. Базовая конфигурация одинакова для всех адаптеров, а конфигурация адаптера является уникальной частью для каждого сервера.

- [Исходный код адаптеров](https://github.com/BuilderIO/qwik/tree/main/packages/qwik-city/adapters)

### Добавление промежуточного ПО

Промежуточное ПО - это код, который соединяет серверный фреймворк рендера (такой как Cloudflare, Netlify, Vercel, Express и т.д.) с мета-фреймворком Qwik City. Каждое промежуточное ПО отвечает за обработку запросов и ответов от сервера и их перевод в стандартный формат для использования Qwik City.

К счастью, Qwik City использует стандартизованные интерфейсы [запроса](https://developer.mozilla.org/en-US/docs/Web/API/Request) и [ответа](https://developer.mozilla.org/en-US/docs/Web/API/Response), поэтому промежуточное программное обеспечение обычно довольно минимально.

Вы заметите, что каждое промежуточное ПО вызывает общий пакет `@builder.io/qwik-city/middleware/request-handler`. Задача промежуточного ПО - перевести запрос и ответ в стандартный формат, который использует пакет обработчиков запросов Qwik City.

- [Исходный код промежуточного ПО](https://github.com/BuilderIO/qwik/tree/main/packages/qwik-city/middleware)

### Добавление шаблона в CLI

Следующим шагом будет добавление нового адаптера в стартовые шаблоны CLI. Для этого, вероятно, лучше обратиться к основной команде в [Discord](https://qwik.builder.io/chat), чтобы они помогли вам начать. CLI - отличное место для добавления нового адаптера, потому что это отличный способ протестировать новый адаптер и убедиться, что он работает так, как ожидается.
