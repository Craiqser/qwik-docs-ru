---
title: –°–æ–±—ã—Ç–∏—è | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
contributors:
  - voluntadpear
  - the-r3aper7
  - RATIU5
  - manucorporat
  - nnelgxorz
  - adamdbradley
  - hamatoyogi
  - fleish80
  - cunzaizhuyi
  - Pika-Pool
  - mhevery
  - AnthonyPAlicea
  - amatiash
  - harishkrishnan24
  - fabian-hiller
  - igorbabko
  - mrhoodz
  - julianobrasil
  - maiieul
updated_at: '2024-01-09T20:55:11Z'
created_at: '2023-03-20T23:45:13Z'
---

import CodeSandbox from '../../../../../components/code-sandbox/index.tsx';

# –°–æ–±—ã—Ç–∏—è

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º, –æ–Ω–æ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø—É—Ç–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –≤ —à–∞–±–ª–æ–Ω–µ JSX. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞ `on{EventName}$`. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞—Ç—Ä–∏–±—É—Ç `onClick$` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π `click`.

```tsx /onClick$/
<button onClick$={() => alert('CLICKED!')}>click me!</button>
```

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

–í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ –∞—Ç—Ä–∏–±—É—Ç `onClick$` —ç–ª–µ–º–µ–Ω—Ç–∞ `<button>` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–æ–æ–±—â–∏—Ç—å Qwik, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `() => store.count++` –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ `<button>` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ `click`.

<CodeSandbox src="/src/routes/demo/state/counter-signal/index.tsx" style={{ height: '6em' }}>
```tsx {7} /onClick$/
import { component$, useSignal } from '@builder.io/qwik';

export default component$(() => {
  const count = useSignal(0);

  return (
    <button onClick$={() => count.value++}>
      –ü—Ä–∏–±–∞–≤–∏—Ç—å {count.value}
    </button>
  );
});
```
</CodeSandbox>

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `onClick$` –æ–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ [`$`](/docs/(qwik)/advanced/dollar/index.mdx). –≠—Ç–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∫–∞–∫ [–æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—É](/docs/(qwik)/advanced/optimizer/index.mdx) —Ç–∞–∫ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –æ —Ç–æ–º, —á—Ç–æ –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ. –ù–∞–ª–∏—á–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å–∞ `$` –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –∑–¥–µ—Å—å –≥—Ä–∞–Ω–∏—Ü—É –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏. –ö–æ–¥, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–±—ã—Ç–∏—è `click`, –Ω–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ. –ö–æ–¥, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º —Å–æ–±—ã—Ç–∏—è `click`, –Ω–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –≤ JavaScript VM –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤—ã–∑–æ–≤–µ—Ç —Å–æ–±—ã—Ç–∏–µ `click`, –æ–¥–Ω–∞–∫–æ –æ–Ω –±—É–¥–µ—Ç —Å—Ä–∞–∑—É [–∑–∞–≥—Ä—É–∂–µ–Ω –≤ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞](/docs/advanced/speculative-module-fetching/), —á—Ç–æ–±—ã –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å –∑–∞–¥–µ—Ä–∂–µ–∫ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏.

> –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å–ª—É—à–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–ª–æ–∂–Ω–æ–º—É –∫–æ–¥—É. –°–æ–∑–¥–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü—É –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (—Å –ø–æ–º–æ—â—å—é `$`), Qwik –º–æ–∂–µ—Ç —Ç—Ä–∏—à–µ–π–∫–Ω—É—Ç—å –≤–µ—Å—å –∫–æ–¥, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ, –∏ –æ—Ç–ª–æ–∂–∏—Ç—å –µ–≥–æ –∑–∞–≥—Ä—É–∑–∫—É –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–∂–º—ë—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É.

## –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π

–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ —Å–æ–±—ã—Ç–∏–π, –Ω–∞–º –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏—é `$()`, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—É—é `@builder.io/qwik`, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ [`QRL`](../../advanced/qrl/).

<CodeSandbox src="/src/routes/demo/events/extracted-handler/index.tsx" style={{ height: '6em' }}>
```tsx {5} /increment/#a
import { component$, useSignal, $ } from '@builder.io/qwik';

export default component$(() => {
  const count = useSignal(0);
  const increment = $(() => count.value++);
  return (
    <>
      <button onClick$={increment}>–ü—Ä–∏–±–∞–≤–∏—Ç—å</button>
      <p>–°—á—ë—Ç: {count.value}</p>
    </>
  );
});
```
</CodeSandbox>

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã –∏–∑–≤–ª–µ–∫–∞–µ—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è, —Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã –≤—Ä—É—á–Ω—É—é –æ–±–µ—Ä–Ω—É—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –≤ `$(...handler...)`, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –ª–µ–Ω–∏–≤–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å.

## –ù–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π

–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Å–æ–±—ã—Ç–∏—è, –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –≤ –∞—Ç—Ä–∏–±—É—Ç `on{EventName}$`.

```tsx /onClick$/
import { component$, useSignal, $ } from '@builder.io/qwik';

export default component$(() => {
  const count = useSignal(0);
  const print = $((ev) => console.log('CLICKED!', ev));
  const increment = $(() => count.value++);

  // –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –≤—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å "CLICKED!", —É–≤–µ–ª–∏—á–∏—Ç —Å—á—ë—Ç—á–∏–∫ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ Google Analytics.
  return (
    <button
      onClick$={[print, increment, $(() => {
        ga.send('click', { label: 'increment' });
      })]}
    >
      –°—á—ë—Ç: {count.value}
    </button>
  );
});
```

## –û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è

–ü–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç `Event`. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–±—ã—Ç–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–∑–≤–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä–µ–∫—Ç `Event` –¥–ª—è —Å–æ–±—ã—Ç–∏—è `click` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –º—ã—à–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª –∫–ª–∏–∫ –º—ã—à–∏. –í—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å [–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ MDN, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –æ –∫–∞–∂–¥–æ–º —Å–æ–±—ã—Ç–∏–∏ DOM](https://developer.mozilla.org/en-US/docs/Web/API/Event).

<CodeSandbox src="/src/routes/demo/events/mouse-position/index.tsx" style={{ height: '6em' }}>
```tsx /event/
import { component$, useSignal } from '@builder.io/qwik';

export default component$(() => {
  const position = useSignal<{ x: number; y: number }>();
  return (
    <div
      onClick$={(event) => (position.value = { x: event.x, y: event.y })}
      style="height: 100vh"
    >
      <p>
        –ü–æ–∑–∏—Ü–∏—è –∫–ª–∏–∫–∞: ({position.value?.x}, {position.value?.y})
      </p>
    </div>
  );
});
```
</CodeSandbox>

## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

–ò–∑-–∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø—Ä–∏—Ä–æ–¥—ã Qwik –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É JavaScript. –ò–∑-–∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø—Ä–∏—Ä–æ–¥—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ Qwik —Å–ª–µ–¥—É—é—â–∏–µ API –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ `Event` –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

- `event.preventDefault()`.
- `event.currentTarget`

### `Prevent default`

–ü–æ—Å–∫–æ–ª—å–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —è–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `event.preventDefault()`. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã Qwik –≤–≤–æ–¥–∏—Ç –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞ `preventdefault:{eventName}`.

<CodeSandbox src="/src/routes/demo/events/preventdefault/index.tsx" style={{ height: '6em' }}>
```tsx {7}
import { component$ } from '@builder.io/qwik';

export default component$(() => {
  return (
    <a
      href="/docs"
      preventdefault:click // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å–æ–±—ã—Ç–∏—è –∫–ª–∏–∫–∞.
      onClick$={() => {
        // event.PreventDefault() –∑–¥–µ—Å—å –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
        alert('Do something else to simulate navigation...');
      }}
    >
      –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
    </a>
  );
});
```
</CodeSandbox>

### `Event target`

–ü–æ—Å–∫–æ–ª—å–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —è–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `event.currentTarget`. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Qwik –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç `currentTarget` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞.

<CodeSandbox src="/src/routes/demo/events/target/index.tsx" style={{ height: '10em' }}>
```tsx /currentTarget/
import { component$, useSignal } from '@builder.io/qwik';

export default component$(() => {
  const currentElm = useSignal<HTMLElement|null>(null);
  const targetElm = useSignal<HTMLElement|null>(null);

  return (
    <section onClick$={(event, currentTarget) => {
      currentElm.value = currentTarget;
      targetElm.value = event.target as HTMLElement;
    }}>
      Click on any text <code>target</code> and <code>currentElm</code> of the event.
      <hr/>
      <p>Hello <b>World</b>!</p>
      <hr/>
      <ul>
        <li>currentElm: {currentElm.value?.tagName}</li>
        <li>target: {targetElm.value?.tagName}</li>
      </ul>
    </section>
  );
});
```
</CodeSandbox>

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `currentTarget` –≤ DOM —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è. –í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —ç–ª–µ–º–µ–Ω—Ç `<SECTION>`.

### –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ API –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–±—ã—Ç–∏–µ `dragstart` –¥–æ–ª–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –Ω–µ–ª—å–∑—è —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å —Å –ª–µ–Ω–∏–≤—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–¥–∞ Qwik.

–î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useVisibleTask`, —á—Ç–æ–±—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª—É—à–∞—Ç–µ–ª—è —Å–æ–±—ã—Ç–∏–π, –∏—Å–ø–æ–ª—å–∑—É—è DOM API –Ω–∞–ø—Ä—è–º—É—é.

<CodeSandbox src="/src/routes/demo/events/synchronous/index.tsx" style={{ height: '10em' }}>
```tsx {7-20}
import { component$, useSignal, useVisibleTask$ } from '@builder.io/qwik';

export default component$(() => {
  const draggableRef = useSignal<HTMLElement>();
  const dragStatus = useSignal('');

  useVisibleTask$(({ cleanup }) => {
    if (draggableRef.value) {
      // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DOM API –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ª—É—à–∞—Ç–µ–ª—è —Å–æ–±—ã—Ç–∏–π.
      const dragstart = () => (dragStatus.value = 'dragstart');
      const dragend = () => (dragStatus.value = 'dragend');

      draggableRef.value!.addEventListener('dragstart', dragstart);
      draggableRef.value!.addEventListener('dragend', dragend);
      cleanup(() => {
        draggableRef.value!.removeEventListener('dragstart', dragstart);
        draggableRef.value!.removeEventListener('dragend', dragend);
      });
    }
  });

  return (
    <div>
      <div draggable ref={draggableRef}>
        –ü–æ—Ç—è–Ω–∏ –º–µ–Ω—è!
      </div>
      <p>{dragStatus.value}</p>
    </div>
  );
});
```
</CodeSandbox>

> **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `VisibleTask` –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π —è–≤–ª—è–µ—Ç—Å—è –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º –≤ Qwik, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∫–æ–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø [–≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º–æ—Å—Ç–∏](../../concepts/resumable/index.mdx). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —É –≤–∞—Å –Ω–µ—Ç –¥—Ä—É–≥–æ–≥–æ –≤—ã–±–æ—Ä–∞. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSX: `<div onClick$={...}>` –∏–ª–∏ `useOn(...)` –º–µ—Ç–æ–¥—ã —Å–æ–±—ã—Ç–∏–π, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ.

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π (—Ö–æ—Ç—è –æ–Ω–∏ —è–≤–ª—è—é—Ç—Å—è –Ω–µ —Å–æ–±—ã—Ç–∏—è–º–∏ DOM, –∞ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞). –ì—Ä–∞–Ω–∏—Ü—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ Qwik –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–º–∏, —á—Ç–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –º–æ–≥ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏—Ö –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞–Ω–∫–∏, –∞ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–º–∏, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ QRL.

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π —Ç—Ä–æ–π–Ω–æ–≥–æ —â–µ–ª—á–∫–∞, —á–µ–≥–æ html –Ω–µ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∫–≤–∏–∑–∏—Ç —Å–æ–±—ã—Ç–∏—è `onTripleClick$`.

<CodeSandbox src="/src/routes/demo/events/custom-event/index.tsx" style={{ height: '10em' }}>
```tsx
import { component$, Slot, useStore } from '@builder.io/qwik';

export default component$(() => {
  return (
    <Button onTripleClick$={() => alert('–¢–†–û–ô–ù–û–ô –ö–õ–ò–ö!')}>
      –¢—Ä–∏–∂–¥—ã –∫–ª–∏–∫–Ω–∏ –º–µ–Ω—è!
    </Button>
  );
});

type ButtonProps = {
  onTripleClick$: QRL<() => void>;
};

export const Button = component$<ButtonProps>(({ onTripleClick$ }) => {
  const state = useStore({
    clicks: 0,
    lastClickTime: 0,
  });
  return (
    <button
      onClick$={() => {
        // –ª–æ–≥–∏–∫–∞ —Ç—Ä–æ–π–Ω–æ–≥–æ –∫–ª–∏–∫–∞
        const now = Date.now();
        const timeBetweenClicks = now - state.lastClickTime;
        state.lastClickTime = now;
        if (timeBetweenClicks > 500) {
          state.clicks = 0;
        }
        state.clicks++;
        if (state.clicks === 3) {
          // handle custom event
          onTripleClick$();
          state.clicks = 0;
        }
      }}
    >
      <Slot />
    </button>
  );
});
```
</CodeSandbox>

> –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ `QRL` –≤ `onTripleClick$: QRL<() => void>;`. –≠—Ç–æ –∫–∞–∫ –æ–±–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ `$()`, –Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤. –ï—Å–ª–∏ –±—ã —É –≤–∞—Å –±—ã–ª–æ `const greet = $(() => "hi üëã");` –∏ –≤—ã –Ω–∞–≤–µ–ª–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ 'greet', –≤—ã –±—ã —É–≤–∏–¥–µ–ª–∏, —á—Ç–æ 'greet' –∏–º–µ–µ—Ç —Ç–∏–ø `QRL<() => "hi üëã">`.

## –°–æ–±—ã—Ç–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ window –∏ document

–î–æ —Å–∏—Ö –ø–æ—Ä –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏, –∫–∞–∫ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è, –∏–¥—É—â–∏–µ –æ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–º–µ—Ç–∫–∏. –ï—Å—Ç—å —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `scroll` –∏ `mousemove`), –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –Ω–∞ –æ–±—ä–µ–∫—Ç–µ `window` –∏–ª–∏ `document`. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ Qwik –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å—ã `document:on` –∏ `window:on`.

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ `window:on`/`document:on` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ DOM, –Ω–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –ø–æ–ª—É—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –æ—Ç `window`/`document`. –í —ç—Ç–æ–º –µ—Å—Ç—å –¥–≤–∞ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. –°–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ –≤ –≤–∞—à–µ–º JSX;
2. –°–æ–±—ã—Ç–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–Ω–µ —Ç—Ä–µ–±—É—é—Ç —è–≤–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏).

## –•—É–∫–∏ `useOn[window|document]`

- `useOn()`: —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞;
- `useOnWindow()`: —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ –æ–±—ä–µ–∫—Ç–µ `window`;
- `useOnDocument()`: —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ –æ–±—ä–µ–∫—Ç–µ `document`.

–•—É–∫ `useOn[window|document]()` –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –¥–æ–±–∞–≤–∏—Ç —Å–ª—É—à–∞—Ç–µ–ª—è —Å–æ–±—ã—Ç–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ DOM –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ –±—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–≤–æ–∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ö—É–∫–æ–≤ –∏–ª–∏ –µ—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ –∏–º—è —Å–æ–±—ã—Ç–∏—è –Ω–∞ –º–æ–º–µ–Ω—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

<CodeSandbox src="/src/routes/demo/events/use-on/index.tsx" style={{ height: '10em' }}>
```tsx
import { $, component$, useOnDocument, useStore } from '@builder.io/qwik';

// –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –Ω–µ –∏–º–µ—é—â–µ–µ –¥–æ—Å—Ç—É–ø–∞ –∫ JSX,
// –Ω–æ –Ω–∞–º –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π.
function useMousePosition() {
  const position = useStore({ x: 0, y: 0 });
  useOnDocument(
    'mousemove',
    $((event) => {
      const { x, y } = event as MouseEvent;
      position.x = x;
      position.y = y;
    })
  );
  return position;
}

export default component$(() => {
  const pos = useMousePosition();
  return (
    <div>
      –ü–æ–∑–∏—Ü–∏—è –º—ã—à–∏: ({pos.x}, {pos.y})
    </div>
  );
});
```
</CodeSandbox>
