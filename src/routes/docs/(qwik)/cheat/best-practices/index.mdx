---
title: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
contributors:
  - mhevery
  - the-r3aper7
  - manucorporat
  - jakovljevic-mladen
  - kerbelp
  - wfairclough
  - cunzaizhuyi
  - reemardelarosa
---

# –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–∫–∞–∑—É –æ—Ç –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏

## –ù–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —Å –ø–æ–º–æ—â—å—é `useVisibleTask$()`.

> ‚ö† –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useVisibleTask$()` —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é ‚ö†

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ => –º–µ—Ç–æ–¥—ã `useOn()`

**–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞**:

```ts
useVisibleTask$(() => {
  const listener = (event) => {
    const mouseEvent = event as MouseEvent;
    console.log(mouseEvent.x, mouseEvent.y);
  };
  document.addEventListener('mousemove', listener);

  return () => {
    document.removeEventListener('mousemove', listener)
  };
});
```

**–ü–æ—á–µ–º—É –ø—Ä–∏–º–µ—Ä –≤—ã—à–µ - –ø—Ä–æ–±–ª–µ–º–∞**:

–û–Ω –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –±–æ–ª—å—à–µ javascript-–∫–æ–¥–∞, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ë–æ–ª—å—à–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ javascript => –±–æ–ª–µ–µ –Ω–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–≠—Ç–æ —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –≤–∞—Å, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –±–æ–ª—å—à–µ–π –æ—Å–≤–µ–¥–æ–º–ª—ë–Ω–Ω–æ—Å—Ç–∏ –æ –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–∞ (–≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –Ω–µ –∑—Ä—è –∂–µ –≤—ã –≤—ã–±—Ä–∞–ª–∏ `use > Visible < Task`).

–•–æ—Ç—è –∏–Ω–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –∑–∞–¥–∞—á–∞ —Å–∏—Å—Ç–µ–º—ã –¥–æ–ª–∂–Ω–∞ –∑–∞–∫–ª—é—á–∞—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏–∑–±–∞–≤–∏—Ç—å –≤–∞—Å –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ–± —ç—Ç–æ–º.

–ù–µ –≥–æ–≤–æ—Ä—è —É–∂–µ –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –≤–∞—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–∏–ª–∏–π –ø–æ —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–µ —Å–ª—É—à–∞—Ç–µ–ª—è —Å–æ–±—ã—Ç–∏—è.

**–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫**:

```ts
useOnDocument(
  'mousemove',
  $((event) => {
    const mouseEvent = event as MouseEvent;
    console.log(mouseEvent.x, mouseEvent.y);
    // –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª—è!
  })
);
```

> –ü–†–ò–ú–ï–ß–ê–ù–ò–ï: –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ö—É–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ window –∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
> `window` -> `useOnWindow` , –∫–æ–º–ø–æ–Ω–µ–Ω—Ç -> `useOn`
>
> - [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è useOn / useOnDocument / useOnWindow](../../components/events/index.mdx#useon-hooks)
> - [–ü—Ä–∏–º–µ—Ä](../../../../tutorial/hooks/use-on/#example)
> - [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ](../../../../tutorial/events/programmatic/)

---

## –ù–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ `window` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ => `useLocation()`

**–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞**:

```ts
useVisibleTask$(()=> {
    if (window.location.href).includes('foo') {
        //...–¥–µ–ª–∞–µ–º —á—Ç–æ-–ª–∏–±–æ
    }
})

// –ò–õ–ò

// (–≤ –∫–æ—Ä–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
if (typeof window !== "undefined") {
    const queryParams = new URLSearchParams(window.location.search);
    const query: Record<string, string> = {};
    queryParams.forEach((value, key) => {
        query[key] = value;
    })
    doTheThing(query);
}
```

**–ü–æ—á–µ–º—É –ø—Ä–∏–º–µ—Ä –≤—ã—à–µ - –ø—Ä–æ–±–ª–µ–º–∞**:

–ú–Ω–æ–≥–∏–µ, –º–Ω–æ–≥–∏–µ –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –±—É–¥–µ—Ç–µ –¥–µ–ª–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏, –º–æ–≥—É—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∏—Ç—Å—è —á–∏—Å—Ç—ã–π HTML –±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ JS.

–ï—Å–ª–∏ –≤—ã –∑–∞—Å—Ç–∞–≤–∏—Ç–µ —ç—Ç—É –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, —Ç–æ —ç—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —É–≤–µ–ª–∏—á–µ–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ JS –∏ –≤—ã–∑–æ–≤–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É.

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–∞ `if typeof window !== "undefined"` –≤—ã –≤—Å–∫–æ—Ä–µ –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥. –û–Ω –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —ç—Ç–æ—Ç –±–ª–æ–∫ –∫–æ–¥–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ window –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º. –í—ã –ø—Ä–∏–≤—ã–∫–ª–∏, —á—Ç–æ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã. Qwik –≤ —ç—Ç–æ–º –Ω–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è! üòé

**–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫**:

```ts
const location = useLocation();

if (location.url.href.includes('foo')) {
  //...–¥–µ–ª–∞–µ–º —á—Ç–æ-–ª–∏–±–æ
}
// –ò–õ–ò
doTheThing(location.url.searchParams);
```

## –ò–°–ö–õ–Æ–ß–ï–ù–ò–ï

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ SSG –¥–ª—è —á–∏—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∑–ª–æ. –£ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏.

–ù–æ –±—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã! –ï—Å–ª–∏ –Ω—É–∂–Ω–∞—è –≤–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞) –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–æ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ JS.

> –°–º–æ—Ç—Ä–∏: [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è useLocation()](../../../(qwikcity)/api/index.mdx#uselocation)
