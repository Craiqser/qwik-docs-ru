---
title: Настройка генерации статических сайтов
contributors:
  - adamdbradley
  - wtho
---

# Настройка генерации статических сайтов

Ниже приведён пример файла `src/entry.static.tsx`, который является начальным файлом, используемым для сборки статического сайта (SSG). Как и файл точки входа для SSR, такой как `src/entry.server.tsx`, он должен импортировать функцию `render` вашего приложения из файла `./entry.ssr`.

```typescript
// Файл: src/entry.static.tsx
import { qwikCityGenerate } from '@builder.io/qwik-city/static/node';
import render from './entry.ssr';
import { fileURLToPath } from 'url';
import { join } from 'path';

qwikCityGenerate(render, {
  origin: 'https://qwik.builder.io',
  outDir: join(fileURLToPath(import.meta.url), '..', '..', 'dist'),
});
```

Затем вы можете добавить скрипт `build.ssg` в `package.json` для сборки кода и добавить его в скрипт `build`, чтобы он работал после каждой сборки:

```json
  "build": "npm run typecheck && npm run build.client && npm run build.ssr && npm run build.ssg",
  "build.ssg": "vite build --ssr src/entry.static.tsx",
```

В среде Node.js вы можете запустить генерацию после сборки с помощью:

```bash
node server/entry.static.js
```

Ваши файлы сборки будут сгенерированы в папке `dist`, как настроено в `src/entry.static.tsx`.

## Настройка SSG

Файл `src/entry.static.tsx` также включает конфигурацию SSG, которая будет индивидуальной для каждой реализации.

### `origin`

URL `origin` представляет собой комбинацию схемы (протокола) и имени хоста (домена).
Например, `https://qwik.builder.io` имеет протокол `https://` и домен `qwik.builder.io`.
Однако `origin` _не_ включает в себя `pathname` (маршрут).

Параметр `origin` используется для предоставления полного URL-адреса во время генерации статических сайтов (SSG), а также для того, чтобы формировать полный URL-адрес, а не просто `pathname`. Например, для создания правильного канонического тега URL или URL-адреса в файле `sitemap.xml`, должен быть указан и `origin`.

Если сайт также начинается с имени, отличного от `/`, пожалуйста, используйте опцию `basePathname` в конфигурации Qwik City.

### `outDir`

`outDir` - это каталог файловой системы, куда должны быть записаны статические файлы. В приведенном выше примере используется метод среды Node.js [fileURLToPath](https://nodejs.org/api/url.html#urlfileurltopathurl). Он формирует название абсолютного пути в файловой системе для записи статических HTML-файлов.

## Среды выполнения Javascript

Для Javascript-проекта довольно часто выполнение сборки работает поверх [Node.js](https://nodejs.org/en/docs/). Однако ядро генерации статического сайта Qwik City не привязано к использованию только Node.js, именно поэтому функция `qwikCityGenerate()` импортируется из пакета `@builder.io/qwik-city/static/node`. Это дает Qwik City гибкость для того, чтобы в будущем также генерировать SSG и из других сред выполнения, таких как [Deno](https://deno.land/) или [Bun](https://bun.sh/). Изменится лишь пакет импорта.
