---
title: Qwik City - Редиректы
contributors:
  - adamdbradley
---

# Редиректы

Допустим, вы хотите перенаправить пользователя с одной страницы на другую.

Скажем, пользователь пытается перейти на страницу информационной панели, но ещё не вошёл в систему. И мы хотим, чтобы он был перенаправлен на страницу входа в систему, чтобы пройти аутентификацию.

```tsx
// Файл: src/routes/dashboard.js
import { component$ } from '@builder.io/qwik';
import { checkAuthorization } from '../auth'; // Ваш код авторизации
import type { DashboardData } from '../types'; // Ваши данные

export const onGet: RequestHandler<DashboardData> = async ({ request, response }) => {
  const isAuthorized = checkAuthorization(request.headers.get('cookie'));

  if (!isAuthorized) {
    // Пользователь не авторизован!
    // Бросаем ответ с редиректом для перенаправления
    // пользователя на страницу входа в систему
    throw response.redirect('/login');
  } else {
    // ...
  }
};
```

Функция `response.redirect()` принимает URL-адрес и, опционально, код состояния ответа в качестве второго аргумента.

```tsx
throw response.redirect('/login', 301); // Код "Перемещён на постоянной основе"
```

[Общие коды состояния перенаправления](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages):

- `302 Found`. Код ответа "Найдено" значит, что запрошенный ресурс временно изменён. Новые изменения в URI могут быть доступны в будущем. Таким образом, этот URI, должен быть использован клиентом в будущих запросах.
- `307 Temporary Redirect`. Временное перенаправление. Сервер отправляет этот ответ, чтобы клиент получил запрошенный ресурс на другой URL-адрес с тем же методом, который использовал предыдущий запрос. Данный код имеет ту же семантику, что код ответа `302 Found`, за исключением того, что агент пользователя не должен изменять используемый метод HTTP: если в первом запросе использовался POST, то во втором запросе также должен использоваться POST.
- `308 Permanent Redirect`. "Перенаправление на постоянной основе". Это означает, что ресурс теперь постоянно находится на другом URI, указанном в заголовке `Location` HTTP-ответа. Данный код ответа имеет ту же семантику, что и код ответа `301 Moved Permanently`, за исключением того, что агент пользователя не должен изменять используемый метод HTTP: если POST использовался в первом запросе, POST должен использоваться и во втором запросе.

Если вы не укажете код состояния, Qwik City по умолчанию выдаст статус `302 Found`.

Подробнее о кодах состояния перенаправления [здесь](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages).
