---
title: Qwik City Обзор данных
contributors:
  - adamdbradley
---

# Обзор данных

Каждый маршрут имеет возможность добавления обработчиков HTTP-запросов и ответов, что позволяет разработчикам [получать](../retrieve/index.mdx) и [изменять](../modify/index.mdx) данные. Обработчики также могут использоваться [конечными точками](../endpoints/index.mdx), которые возвращают только данные, а не HTML-код страницы.

Эта возможность позволяет вам обрабатывать любое событие запроса, иметь побочные эффекты в конвейере запроса непосредственно перед рендерингом компонента и отвечать на него выбранным содержимым. Возможность доступна для маршрутов страниц, макетов и конечных точек, но не для обычных компонентов.

## Обработка запросов и ответов

На страницах, макетах и [конечных точках](../endpoints/index.mdx) мы можем получить доступ к данным запроса реализуя функции обработчика запроса, такие как `onGet`, `onPost`, `onPut` и т.д. Эти функции выполняются в зависимости от [HTTP-метода](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods), используемого для данного маршрута.

Кроме того, функция `onRequest` может быть использована для обработки любого метода запроса, а не конкретного. Например, если объявлены две функции - `onGet` и `onRequest`, то для запроса с методом `GET` будет вызвана функция `onGet`. Однако, если бы пришел запрос с методом `POST`, то была бы вызвана функция `onRequest`, так как функция `onPost` не была предусмотрена. Функция `onRequest` доступна для всех методов запроса, для которых не указана конкретная функция.

```typescript
import type { RequestHandler } from '@builder.io/qwik-city';

export const onGet: RequestHandler<ProductData> = async ({ params }) => {
  // Здесь должен быть код доступа к вашей БД (сокращено для упрощения)
  return {
    skuId: params.skuId,
    price: 123.45,
    description: `Description for ${params.skuId}`,
  };
};
```

## Событие запроса

Функции обработчика запроса получают аргумент `RequestEvent`, который имеет следующие свойства:

| Поле | Описание |
| --- | --- |
| `request` | Объект запроса |
| `response` | Объект ответа, который можно использовать для установки `headers` и `status` ответа |
| `url` | URL, который содержит `pathname`, `hostname` и т.д. |
| `next` | Следующая функция промежуточного ПО |
| `abort` | Запрос функции прерывания |
| `params` | Пользовательские параметры, найденные в URL |
| `platform` | Объект данных платформы (полезен для Cloudflare, Netlify и т.д.) |
