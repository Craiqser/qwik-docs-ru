---
title: Хранение состояния
contributors:
  - adamdbradley
  - manucorporat
---

Приложения должны уметь работать с состоянием, чтобы быть полезными, иначе они будут являться просто статическими страницами.

Qwik отслеживает состояние приложения по двум причинам:

1. Для сериализации данных, когда приложение приостанавливается на сервере, и для десериализации, когда приложение возобновляет работу на клиенте.

1. Для создания подписок на изменения в хранилище, чтобы Qwik знал, какие компоненты нужно перерендерить. Если бы Qwik не отслеживал подписки, ему пришлось бы заново отображать всё приложение, что лишало бы смысла процесс отложенной загрузки.

Компонент справа ещё не работает, потому что `counter` — это просто объект без подписок. В результате Qwik не знает, когда изменяется `counter.count`, и когда выполнить ререндер компонента `<App>`.

> **Ваша задача:** Заключить `counter` в [`useStore()`](/docs/(qwik)/components/state/index.mdx#usestore), чтобы включить отслеживание зависимостей и автоматический повторный рендер.

## Сериализация

Откройте вкладку _HTML_, чтобы увидеть, какая информация сериализуется сервером. Найдите в блоке `<script type="qwik/json">` сериализованную информацию и обратите внимание на следующее:

1. `{count: 0}` находится в сериализованном состоянии.
1. В конце сериализованного состояния находятся `subs`, которые содержат `"count"`. Эти подписки сообщают Qwik, какой компонент следует повторно отображать при изменении состояния.

Состояние Qwik никоим образом не привязано к компоненту, который его создал. Состояние может быть передано любому компоненту в приложении, и Qwik создает необходимые подписки для повторного рендера только требуемых компонентов.
