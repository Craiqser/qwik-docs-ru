---
title: Явная реактивность
contributors:
  - adamdbradley
  - manucorporat
---

В дополнение к неявной реактивности, создаваемой шаблонами, Qwik поддерживает явное выполнение кода при изменении свойства. Это достигается с помощью хука [`useTask$()`](/docs/(qwik)/components/lifecycle/index.mdx#usetask). Хуки [`useTask$()`](/docs/(qwik)/components/lifecycle/index.mdx#usetask) выполняются перед рендером компонента и могут быть асинхронными. Хук также может иметь функцию очистки, которая вызывается при следующем выполнении хука или при удалении компонента.

В этом примере нажатие на `+1` сразу же обновляет `count`. Мы хотели бы обновлять значение `delay count` после 2-секундной задержки. Если `count` обновляется до истечения 2 секунд, то таймер перезапускается.

Обратите внимание, что обратный вызов [`useTask$()`](/docs/(qwik)/components/lifecycle/index.mdx#usetask) получает функцию `track`. Используйте функцию `track`, чтобы указать Qwik, какие свойства должны вызывать эти часы. Функция `track` создает подписки в магазине. При каждом вызове [`useTask$()`](/docs/(qwik)/components/lifecycle/index.mdx#usetask) подписки очищаются, поэтому важно всегда устанавливать новый набор подписок. Это полезно, если набор подписок меняется во время жизни функции.

Функция обратного вызова [`useTask$()`](/docs/(qwik)/components/lifecycle/index.mdx#usetask) может возвращать функцию очистки. Функция очистки вызывается при следующем выполнении [`useTask$()`](/docs/(qwik)/components/lifecycle/index.mdx#usetask) или при удалении компонента. В нашем случае функция `cleanup` используется для возврата кода, который очищает `setTimeout`.

Обратные вызовы [`useTask$()`](/docs/(qwik)/components/lifecycle/index.mdx#usetask) выполняются до того, как компонент будет отрендерен. Это позволяет использовать их для вычисления значений, используемых при рендере. Функция работает как на сервере, так и на клиенте. Выполнение на сервере устанавливает подписки, которые затем сериализуются и доступны на клиенте. Это избавляет клиента от необходимости загружать все компоненты и выполнять их по крайней мере один раз, чтобы восстановить информацию о подписке для системы.
